////////////////////////////////////////////////////////////////
// ZomCore BO2 Frame by DevDokus                              //
////////////////////////////////////////////////////////////////
#include scripts\zm\ZomCore\_Utils;
#include scripts\zm\ZomCore\Hud;
#include scripts\zm\ZomCore\Zombies;
#include scripts\zm\ZomCore\Level;
#include scripts\zm\ZomCore\Commands;
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
main() {
  level thread onConnect();
}
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
init() {
  level thread InitSettings_Server();
  level thread ZombieSpeed();
  level thread Barriers();
}
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
onConnect() {
  for (;;) {
    level  waittill("connected", player);
    player thread Connected();
  }
}
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
Connected() {
  level endon  ("game_ended");
  self  endon  ("disconnect");
  self  thread InitSettings_Client();
  // self  thread Welcome_User();
  self  thread Commands();

  for (;;) {
    self waittill("spawned_player");
    self EnableInvulnerability();
  }
}
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
InitSettings_Server() {
  level.perk_purchase_limit = 30;
  level.zombie_vars["zombie_spawn_delay"] = 0;
  level.zombie_vars["zombie_between_round_time"] = 0;
  SetDvarIfNotInitialized("_Prefix", ".");
}
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
InitSettings_Client() {
  self TakeWeapon("m1911_zm"); wait 0.5;
  self GiveWeapon("knife_ballistic_upgraded_zm");
  self SwitchToWeapon("knife_ballistic_upgraded_zm");
  self GiveMaxAmmo("knife_ballistic_upgraded_zm");
}
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////


































////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////